<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Detalle del producto</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f0c22;
      --ink:#eaf0ff;
      --sub:#cdd3f7;
      --brand:#9D81FC;
      --accent:#D1FA30;
      --night:#1B1537;
      --radius:18px;
      --radius-lg:28px;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --container:1200px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
      color:var(--ink);
      background: radial-gradient(1200px 600px at 75% -10%, rgba(157,129,252,.25), transparent 60%),
                  radial-gradient(900px 500px at 10% 10%, rgba(209,250,48,.12), transparent 60%),
                  var(--bg);
      line-height:1.5;
    }
    /* Forzar texto blanco en los elementos principales para evitar conflicto con Bootstrap */
    body, .container, .card, .product-info-card, .p-name, .p-meta, .s-title, .s-sub, .price, .chip, .pill, .brand, .foot, .nav, .btn-ghost, .btn-primary {
      color: var(--ink) !important;
    }
    /* Excepciones para textos secundarios */
    .s-sub, .foot, .pill, .chip {
      color: var(--sub) !important;
    }
    .price {
      color: var(--accent) !important;
    }
    img{display:block;max-width:100%;height:auto}
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--container);margin:auto;padding:0 clamp(16px,3vw,32px)}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      gap:.6rem;
      padding:.9rem 1.2rem;border-radius:999px;
      font-weight:600; letter-spacing:.2px;
      transition:transform .12s ease, box-shadow .12s ease, background .2s;
      box-shadow:var(--shadow);
      border:1px solid transparent;
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--accent),#b5ff35 60%);
      color:#0a0a0a !important;
      text-shadow:none;
      border: none;
    }
    .btn-primary:hover{transform:translateY(-2px)}
    .btn-ghost{background:rgba(255,255,255,.06);border-color:rgba(255,255,255,.12)}
    .btn-ghost:hover{background:rgba(255,255,255,.1)}
    .pill{
      display:inline-block;
      padding:.35rem .75rem;
      border:1px solid rgba(255,255,255,.18);
      border-radius:999px;
      font-size:.78rem;color:var(--sub);
      backdrop-filter: blur(6px);
      background:rgba(255,255,255,.06)
    }
    .s-title{font-size:clamp(1.4rem,3vw,2rem);font-weight:800}
    .s-sub{color:var(--sub)}
    .badge { font-size: .9rem; }
    .topbar{
      position:sticky;top:0;z-index:50;
      background:rgba(27,21,55,.7);
      backdrop-filter:blur(10px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav{
      display:flex;align-items:center;justify-content:space-between;height:64px;
    }
    .brand{
      display:flex;align-items:center;gap:.8rem;font-weight:800;font-size:1.1rem
    }
    .logo{
      width:40px;height:40px;border-radius:12px;
      background: radial-gradient(circle at 30% 30%, #d1fa30 0 45%, transparent 46%),
                  radial-gradient(8px 8px at 66% 32%, #d1fa30 99%, transparent 100%),
                  radial-gradient(6px 6px at 82% 24%, #d1fa30 99%, transparent 100%),
                  linear-gradient(#9d81fc 0 0) content-box,
                  linear-gradient(#9d81fc 0 0);
      padding:5px;
      box-shadow: 0 6px 16px rgba(157,129,252,.45), inset 0 0 0 2px rgba(255,255,255,.08);
    }
    .nav-cta{display:flex;gap:.6rem}
    .card{
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      overflow:hidden;box-shadow:var(--shadow);
      transition:transform .14s ease, box-shadow .2s ease, border-color .2s;
      align-items: flex-start;
    }
    /* Quitar padding solo al card de la imagen */
    .product-img-card {
      padding: 0 !important;
    }
    /* Card de información SÍ debe tener padding */
    .product-info-card {
      padding: 2.2rem 2rem 2rem 2rem;
      display: flex;
      flex-direction: column;
      gap: 1.1rem;
    }
    .card .thumb{
      aspect-ratio: 1 / 1; background:
        linear-gradient(135deg, rgba(157,129,252,.25), rgba(209,250,48,.25)),
        linear-gradient(#2a234f, #1b1537);
    }
    .card .body{
      padding:0;
      display: flex;
      flex-direction: column;
      gap: 1.1rem;
    }
    .p-name{font-weight:700;font-size:1.5rem;}
    .p-meta{display:flex;align-items:center;justify-content:space-between;color:var(--sub);margin:.2rem 0 .7rem}
    .price{font-weight:800;color:var(--accent);font-size:1.3rem;}
    .p-actions{display:flex;gap:.5rem;margin-top:1.5rem;}
    .chip{font-size:.75rem;padding:.15rem .55rem;border-radius:999px;background:rgba(157,129,252,.18);border:1px solid rgba(157,129,252,.35);color:#e6e0ff}
    .mt-24{margin-top:24px}
    .center{text-align:center}
    footer{
      padding:28px 0;border-top:1px solid rgba(255,255,255,.08);
      color:var(--sub)
    }
    .foot{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}
    .foot a{opacity:.9}
    .foot a:hover{opacity:1}
    @media (max-width: 900px){
      .row{flex-direction:column;}
      .col-md-6{width:100%;}
      .card{padding: 1.2rem 1rem 1rem 1rem;}
    }
  </style>
</head>
<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="container nav">
      <div class="brand">
        <img src="/assets/img/logo.webp" alt="Logo Küki" style="height:32px;">
        <span>Küki</span>
        <span class="pill">Catálogo oficial</span>
      </div>
      <div class="nav-cta">
        <a class="btn btn-ghost" href="catalogo.html">Catálogo</a>
  <a class="btn btn-primary" href="https://wa.me/529997478066?text=Hola%20K%C3%BCri%2C%20quiero%20comprar%20una%20playera" target="_blank" rel="noopener">Comprar por WhatsApp</a>
      </div>
    </div>
  </div>

  <main>
    <div class="container py-5" id="product-detail">
      <h1 class="text-center">Cargando producto...</h1>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container foot">
      <div class="brand"><div class="logo" aria-hidden="true"></div><span>Küki</span></div>
      <div class="wrap">
        <a href="catalogo.html">Catálogo</a>·
        <a href="index.html#como">Cómo comprar</a>·
        <a href="#" target="_blank" rel="noopener">Instagram</a>·
        <a href="#" target="_blank" rel="noopener">Facebook</a>
      </div>
      <div>© <span id="y">2025</span> Küki. Todos los derechos reservados.</div>
    </div>
  </footer>

  <script>
    // Año dinámico
    document.getElementById('y').textContent = new Date().getFullYear();

    // Producto dinámico
    const params = new URLSearchParams(location.search);
    const id = params.get("id");

    fetch("products.json")
      .then(res => res.json())
      .then(products => {
        const p = products.find(x => x.id === id);
        const cont = document.getElementById("product-detail");

        if (!p) {
          cont.innerHTML = "<h2 class='text-center text-danger'>Producto no encontrado</h2>";
          return;
        }

        cont.innerHTML = `
          <div class="row align-items-start">
            <div class="col-md-6 mb-4 mb-md-0">
              <div class="card shadow-sm product-img-card">
                <div class="thumb">
                  <img src="${p.img}" alt="${p.name}" class="img-fluid rounded" style="width:100%;object-fit:cover;">
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card shadow-sm product-info-card body">
                <div class="p-name mb-2">${p.name}</div>
                <div class="p-meta mb-2">
                  <span><strong>Tallas:</strong> ${p.sizes || "Única"}</span>
                </div>
                <div class="price mb-2">$${p.price} MXN</div>
                <div class="mb-3 s-sub">${p.desc || ""}</div>
                <div class="mb-3">
                  ${(p.tags || []).map(t => `<span class="chip">${t}</span>`).join("")}
                </div>
                <div class="p-actions">
                  <a href="https://wa.me/529997478066?text=${encodeURIComponent("Quiero " + p.name)}" class="btn btn-primary w-100" target="_blank" rel="noopener">Comprar por WhatsApp</a>
                  <a href="catalogo.html" class="btn btn-ghost w-100">← Volver al catálogo</a>
                </div>
              </div>
            </div>
          </div>
        `;
      });
  </script>
</body>
</html>